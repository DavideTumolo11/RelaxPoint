<!DOCTYPE html>
<html lang="it">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard | RelaxPoint</title>

    <!-- FONTS -->
    <link crossorigin="" href="https://fonts.gstatic.com/" rel="preconnect" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    <link as="style"
        href="https://fonts.googleapis.com/css2?display=swap&amp;family=Noto+Sans%3Awght%40400%3B500%3B700%3B900&amp;family=Plus+Jakarta+Sans%3Awght%40400%3B500%3B600%3B700%3B800"
        onload="this.rel='stylesheet'" rel="stylesheet" />

    <!-- CSS -->
    <link rel="stylesheet" href="../assets/css/style.css">
    <link rel="stylesheet" href="../assets/css/admin/dashboard-admin.css">
</head>

<body class="admin-body">
    <!-- SESSION PROTECTION -->
    <div id="sessionLoader" class="session-loader" style="display: none;">
        <div class="loader-content">
            <i class="fas fa-shield-alt fa-spin"></i>
            <p>Verifica autorizzazioni...</p>
        </div>
    </div>

    <div class="admin-container" id="adminContent" style="display: none;">

        <!-- HEADER ADMIN -->
        <div class="admin-header">
            <h1 class="admin-title">
                <i class="fas fa-shield-alt"></i> RelaxPoint Admin
            </h1>
            <p class="admin-subtitle">Pannello di controllo completo per la gestione della piattaforma</p>
            <div class="admin-user-info">
                <span class="admin-badge">
                    <i class="fas fa-user"></i> Admin: <span id="adminEmail">Amministratore</span>
                </span>
                <span class="admin-badge">
                    <i class="fas fa-clock"></i> Ultimo accesso: <span id="lastLogin">Oggi, 14:30</span>
                </span>
                <span class="admin-badge">
                    <i class="fas fa-server"></i> Server: Online
                </span>
                <button class="logout-btn" onclick="logoutAdmin()" title="Logout sicuro">
                    <i class="fas fa-sign-out-alt"></i> Logout
                </button>
            </div>
        </div>

        <!-- NAVIGAZIONE ADMIN -->
        <div class="admin-nav">
            <button class="admin-nav-item active" data-section="dashboard">
                <i class="fas fa-tachometer-alt"></i> Dashboard
            </button>
            <button class="admin-nav-item" data-section="users">
                <i class="fas fa-users"></i> Utenti
            </button>
            <button class="admin-nav-item" data-section="professionals">
                <i class="fas fa-user-tie"></i> Professionisti
            </button>
            <button class="admin-nav-item" data-section="bookings">
                <i class="fas fa-calendar"></i> Prenotazioni
            </button>
            <button class="admin-nav-item" data-section="verification">
                <i class="fas fa-clipboard-check"></i> Verifiche
            </button>
            <button class="admin-nav-item" data-section="reports">
                <i class="fas fa-exclamation-triangle"></i> Segnalazioni
            </button>
            <button class="admin-nav-item" data-section="content">
                <i class="fas fa-edit"></i> Contenuti
            </button>
            <button class="admin-nav-item" data-section="ads">
                <i class="fas fa-ad"></i> Pubblicit√†
            </button>
            <button class="admin-nav-item" data-section="system">
                <i class="fas fa-cogs"></i> Sistema
            </button>
            <button class="admin-nav-item" data-section="logs">
                <i class="fas fa-list-alt"></i> Log
            </button>
        </div>

        <!-- SEZIONE DASHBOARD -->
        <div id="dashboard-section" class="admin-section active">
            <div class="section-header">
                <h2 class="section-title">
                    <i class="fas fa-chart-line"></i> Panoramica Sistema
                </h2>
                <p class="section-description">
                    Vista generale delle statistiche e attivit√† della piattaforma RelaxPoint
                </p>
            </div>

            <div class="section-instructions">
                <h4><i class="fas fa-info-circle"></i> Istruzioni Dashboard</h4>
                <ul>
                    <li><strong>Statistiche principali:</strong> Mostra i KPI pi√π importanti aggiornati in tempo reale</li>
                    <li><strong>Attivit√† recenti:</strong> Ultimi eventi e azioni sulla piattaforma</li>
                    <li><strong>Aggiornamento automatico:</strong> I dati si aggiornano ogni 30 secondi</li>
                    <li><strong>Azioni rapide:</strong> Accesso veloce alle sezioni pi√π utilizzate</li>
                </ul>
            </div>

            <!-- STATISTICHE PRINCIPALI -->
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-number" id="total-users">1,247</div>
                    <div class="stat-label">Utenti Registrati</div>
                    <div class="stat-change positive">
                        <i class="fas fa-arrow-up"></i> +12% da ieri
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="total-professionals">156</div>
                    <div class="stat-label">Professionisti Attivi</div>
                    <div class="stat-change positive">
                        <i class="fas fa-arrow-up"></i> +8% da ieri
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="today-bookings">47</div>
                    <div class="stat-label">Prenotazioni Oggi</div>
                    <div class="stat-change negative">
                        <i class="fas fa-arrow-down"></i> -5% da ieri
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="monthly-revenue">‚Ç¨125,420</div>
                    <div class="stat-label">Entrate Mensili</div>
                    <div class="stat-change positive">
                        <i class="fas fa-arrow-up"></i> +23% dal mese scorso
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="pending-verifications">12</div>
                    <div class="stat-label">Verifiche in Attesa</div>
                    <div class="stat-change neutral">
                        <i class="fas fa-minus"></i> Invariato
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="active-reports">5</div>
                    <div class="stat-label">Segnalazioni Aperte</div>
                    <div class="stat-change negative">
                        <i class="fas fa-arrow-up"></i> +2 da ieri
                    </div>
                </div>
            </div>

            <!-- ATTIVIT√Ä RECENTI -->
            <div class="table-container">
                <div class="table-header">
                    <h3 class="table-title">Attivit√† Recenti</h3>
                </div>
                <div id="recent-activities" class="log-container" style="max-height: 300px;">
                    <!-- Caricate dinamicamente da JavaScript -->
                </div>
            </div>
        </div>

        <!-- SEZIONE UTENTI -->
        <div id="users-section" class="admin-section">
            <div class="section-header">
                <h2 class="section-title">
                    <i class="fas fa-users"></i> Gestione Utenti
                </h2>
                <p class="section-description">
                    Amministra tutti gli utenti registrati sulla piattaforma
                </p>
            </div>

            <div class="section-instructions">
                <h4><i class="fas fa-info-circle"></i> Istruzioni Gestione Utenti</h4>
                <ul>
                    <li><strong>Stati utente:</strong> Attivo (pu√≤ usare servizi), In attesa (email non confermata), Inattivo (account disabilitato), Bloccato (sospeso per violazioni)</li>
                    <li><strong>Approvazione:</strong> Gli utenti "In attesa" richiedono approvazione manuale se segnalati</li>
                    <li><strong>Modifica:</strong> Puoi modificare informazioni, stato account e permessi</li>
                    <li><strong>Eliminazione:</strong> L'eliminazione √® permanente - usa con cautela</li>
                </ul>
            </div>

            <!-- FILTRI E RICERCA -->
            <div class="filters-container">
                <div class="filters-row">
                    <div class="form-group">
                        <label>Stato Utente</label>
                        <select class="filter-select">
                            <option value="">Tutti gli stati</option>
                            <option value="active">Attivo</option>
                            <option value="pending">In attesa</option>
                            <option value="inactive">Inattivo</option>
                            <option value="blocked">Bloccato</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Data Registrazione</label>
                        <select>
                            <option value="">Tutte le date</option>
                            <option value="today">Oggi</option>
                            <option value="week">Ultima settimana</option>
                            <option value="month">Ultimo mese</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>&nbsp;</label>
                        <button class="btn-primary" onclick="applyFilters('users')">
                            <i class="fas fa-filter"></i> Applica Filtri
                        </button>
                    </div>
                </div>
            </div>

            <div class="search-container">
                <i class="fas fa-search search-icon"></i>
                <input type="text" class="search-input" placeholder="Cerca per nome, email o ID..." data-table="users">
            </div>

            <!-- TABELLA UTENTI -->
            <div class="table-container">
                <div class="table-header">
                    <h3 class="table-title">Tutti gli Utenti</h3>
                    <div class="table-actions">
                        <button class="btn-primary" onclick="addNewUser()">
                            <i class="fas fa-plus"></i> Nuovo Utente
                        </button>
                        <button class="btn-secondary" onclick="exportCSV('users')">
                            <i class="fas fa-download"></i> Esporta CSV
                        </button>
                    </div>
                </div>
                <table class="admin-table">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>Nome</th>
                            <th>Email</th>
                            <th>Registrazione</th>
                            <th>Stato</th>
                            <th>Prenotazioni</th>
                            <th>Azioni</th>
                        </tr>
                    </thead>
                    <tbody id="users-tbody">
                        <!-- Caricati dinamicamente -->
                    </tbody>
                </table>
            </div>
        </div>

        <!-- SEZIONE PROFESSIONISTI -->
        <div id="professionals-section" class="admin-section">
            <div class="section-header">
                <h2 class="section-title">
                    <i class="fas fa-user-tie"></i> Gestione Professionisti
                </h2>
                <p class="section-description">
                    Amministra tutti i professionisti e i loro servizi
                </p>
            </div>

            <div class="section-instructions">
                <h4><i class="fas fa-info-circle"></i> Istruzioni Professionisti</h4>
                <ul>
                    <li><strong>Stati:</strong> Attivo (pu√≤ ricevere prenotazioni), In attesa (documentazione incompleta), Sospeso (violazioni), Verifica (documenti in controllo)</li>
                    <li><strong>Verifica documenti:</strong> Controlla certificazioni, assicurazione e documenti di identit√†</li>
                    <li><strong>Guadagni:</strong> Monitora le entrate mensili e commissioni</li>
                    <li><strong>Rating:</strong> Controlla recensioni e valutazioni clienti</li>
                </ul>
            </div>

            <div class="search-container">
                <i class="fas fa-search search-icon"></i>
                <input type="text" class="search-input" placeholder="Cerca professionisti..." data-table="professionals">
            </div>

            <div class="table-container">
                <div class="table-header">
                    <h3 class="table-title">Professionisti Registrati</h3>
                    <div class="table-actions">
                        <button class="btn-primary" onclick="addNewProfessional()">
                            <i class="fas fa-plus"></i> Nuovo Professionista
                        </button>
                        <button class="btn-warning" onclick="showSection('verification')">
                            <i class="fas fa-clipboard-check"></i> Verifiche Pendenti
                        </button>
                    </div>
                </div>
                <table class="admin-table">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>Nome</th>
                            <th>Email</th>
                            <th>Servizio</th>
                            <th>Stato</th>
                            <th>Rating</th>
                            <th>Guadagno Mensile</th>
                            <th>Azioni</th>
                        </tr>
                    </thead>
                    <tbody id="professionals-tbody">
                        <!-- Caricati dinamicamente -->
                    </tbody>
                </table>
            </div>
        </div>

        <!-- SEZIONE PRENOTAZIONI -->
        <div id="bookings-section" class="admin-section">
            <div class="section-header">
                <h2 class="section-title">
                    <i class="fas fa-calendar"></i> Gestione Prenotazioni
                </h2>
                <p class="section-description">
                    Monitora e gestisci tutte le prenotazioni della piattaforma
                </p>
            </div>

            <div class="section-instructions">
                <h4><i class="fas fa-info-circle"></i> Istruzioni Prenotazioni</h4>
                <ul>
                    <li><strong>Stati prenotazione:</strong> Confermata (pagata), In attesa (da confermare), Completata (servizio erogato), Annullata</li>
                    <li><strong>Pagamenti:</strong> Controlla stato pagamenti e rimborsi</li>
                    <li><strong>Conflitti:</strong> Risolvi problemi tra clienti e professionisti</li>
                    <li><strong>Statistiche:</strong> Monitora trend prenotazioni e incassi</li>
                </ul>
            </div>

            <div class="table-container">
                <div class="table-header">
                    <h3 class="table-title">Prenotazioni Recenti</h3>
                    <div class="table-actions">
                        <button class="btn-warning" onclick="filterBookingsByStatus('problems')">
                            <i class="fas fa-exclamation-triangle"></i> Problemi (3)
                        </button>
                        <button class="btn-success" onclick="filterBookingsByStatus('pending')">
                            <i class="fas fa-check"></i> Da Confermare (12)
                        </button>
                    </div>
                </div>
                <table class="admin-table">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>Cliente</th>
                            <th>Professionista</th>
                            <th>Servizio</th>
                            <th>Data/Ora</th>
                            <th>Stato</th>
                            <th>Importo</th>
                            <th>Azioni</th>
                        </tr>
                    </thead>
                    <tbody id="bookings-tbody">
                        <!-- Caricati dinamicamente -->
                    </tbody>
                </table>
            </div>
        </div>

        <!-- SEZIONE VERIFICHE -->
        <div id="verification-section" class="admin-section">
            <div class="section-header">
                <h2 class="section-title">
                    <i class="fas fa-clipboard-check"></i> Coda Verifiche
                </h2>
                <p class="section-description">
                    Verifica documenti e certificazioni dei professionisti
                </p>
            </div>

            <div class="section-instructions">
                <h4><i class="fas fa-info-circle"></i> Istruzioni Verifiche</h4>
                <ul>
                    <li><strong>Documenti richiesti:</strong> Carta identit√†, certificazioni professionali, assicurazione professionale, partita IVA</li>
                    <li><strong>Approvazione:</strong> Verifica autenticit√† e validit√† di tutti i documenti</li>
                    <li><strong>Richiesta info:</strong> Se documenti incompleti, specifica cosa manca</li>
                    <li><strong>Rifiuto:</strong> Solo per documenti falsi o non conformi - fornisci sempre motivo dettagliato</li>
                </ul>
            </div>

            <div class="alert alert-warning">
                <i class="fas fa-exclamation-triangle"></i>
                <strong>Attenzione:</strong> Controlla sempre l'autenticit√† dei documenti. In caso di dubbi, richiedi documentazione aggiuntiva.
            </div>

            <div id="verification-queue">
                <!-- Caricato dinamicamente -->
            </div>
        </div>

        <!-- SEZIONE SEGNALAZIONI -->
        <div id="reports-section" class="admin-section">
            <div class="section-header">
                <h2 class="section-title">
                    <i class="fas fa-exclamation-triangle"></i> Gestione Segnalazioni
                </h2>
                <p class="section-description">
                    Gestisci bug, problemi utenti e segnalazioni di contenuti
                </p>
            </div>

            <div class="section-instructions">
                <h4><i class="fas fa-info-circle"></i> Istruzioni Segnalazioni</h4>
                <ul>
                    <li><strong>Tipi:</strong> Bug (errori sistema), Contenuto (segnalazioni abusi), Utente (comportamenti scorretti), Pagamento (problemi transazioni), Tecnico (server/prestazioni)</li>
                    <li><strong>Priorit√†:</strong> Critica (sistema down), Alta (funzioni importanti), Media (miglioramenti), Bassa (cosmetici)</li>
                    <li><strong>Workflow:</strong> Nuova ‚Üí Investigazione ‚Üí Risolta ‚Üí Chiusa</li>
                    <li><strong>Risposta:</strong> Rispondi sempre entro 24h per segnalazioni critiche/alte</li>
                </ul>
            </div>

            <div class="table-container">
                <div class="table-header">
                    <h3 class="table-title">Segnalazioni Aperte</h3>
                    <div class="table-actions">
                        <button class="btn-danger" onclick="filterReportsByPriority('critical')">
                            <i class="fas fa-fire"></i> Critiche (2)
                        </button>
                        <button class="btn-warning" onclick="filterReportsByPriority('high')">
                            <i class="fas fa-exclamation"></i> Alte (3)
                        </button>
                    </div>
                </div>
                <table class="admin-table">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>Titolo</th>
                            <th>Tipo</th>
                            <th>Priorit√†</th>
                            <th>Segnalato da</th>
                            <th>Data</th>
                            <th>Azioni</th>
                        </tr>
                    </thead>
                    <tbody id="reports-tbody">
                        <!-- Caricati dinamicamente -->
                    </tbody>
                </table>
            </div>
        </div>

        <!-- SEZIONE CONTENUTI -->
        <div id="content-section" class="admin-section">
            <div class="section-header">
                <h2 class="section-title">
                    <i class="fas fa-edit"></i> Gestione Contenuti
                </h2>
                <p class="section-description">
                    Modifica testi, immagini e contenuti del sito web
                </p>
            </div>

            <div class="section-instructions">
                <h4><i class="fas fa-info-circle"></i> Istruzioni Contenuti</h4>
                <ul>
                    <li><strong>Homepage:</strong> Modifica hero section, servizi in evidenza, testimonial</li>
                    <li><strong>Pagine servizi:</strong> Aggiorna descrizioni, prezzi, categorie</li>
                    <li><strong>Legal:</strong> Mantieni aggiornati termini, privacy, cookie policy</li>
                    <li><strong>SEO:</strong> Ottimizza meta tag, description, keywords per ogni pagina</li>
                </ul>
            </div>

            <div class="form-grid">
                <div class="form-group">
                    <label>Sezione da Modificare</label>
                    <select>
                        <option>Homepage - Hero Section</option>
                        <option>Homepage - Servizi</option>
                        <option>Chi Siamo</option>
                        <option>Servizi - Yoga</option>
                        <option>Servizi - Massaggi</option>
                        <option>Termini e Condizioni</option>
                        <option>Privacy Policy</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>&nbsp;</label>
                    <button class="btn-primary" onclick="editContent()">
                        <i class="fas fa-edit"></i> Modifica Contenuto
                    </button>
                </div>
            </div>

            <div class="alert alert-info">
                <i class="fas fa-info-circle"></i>
                <strong>Nota:</strong> Le modifiche ai contenuti richiedono l'integrazione con il sistema di gestione contenuti (CMS).
            </div>
        </div>

        <!-- SEZIONE SISTEMA -->
        <div id="system-section" class="admin-section">
            <div class="section-header">
                <h2 class="section-title">
                    <i class="fas fa-cogs"></i> Impostazioni Sistema
                </h2>
                <p class="section-description">
                    Configurazioni generali, backup e manutenzione sistema
                </p>
            </div>

            <div class="section-instructions">
                <h4><i class="fas fa-info-circle"></i> Istruzioni Sistema</h4>
                <ul>
                    <li><strong>Backup:</strong> Esegui backup quotidiani del database - conserva copie per 30 giorni</li>
                    <li><strong>Performance:</strong> Monitora CPU, RAM, storage - ottimizza se necessario</li>
                    <li><strong>Sicurezza:</strong> Aggiorna password, certificati SSL, firewall</li>
                    <li><strong>Manutenzione:</strong> Pianifica downtime per aggiornamenti importanti</li>
                </ul>
            </div>

            <!-- STATUS SISTEMA -->
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-number" style="color: #10b981;">99.9%</div>
                    <div class="stat-label">Uptime Sistema</div>
                    <div class="stat-change positive">
                        <i class="fas fa-check-circle"></i> Operativo
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" style="color: #3b82f6;">2.1 GB</div>
                    <div class="stat-label">Uso Database</div>
                    <div class="stat-change neutral">
                        <i class="fas fa-database"></i> 65% capacit√†
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" style="color: #f59e0b;">156</div>
                    <div class="stat-label">Email in Coda</div>
                    <div class="stat-change warning">
                        <i class="fas fa-envelope"></i> Processing...
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" style="color: #ef4444;">2</div>
                    <div class="stat-label">Errori Critici</div>
                    <div class="stat-change negative">
                        <i class="fas fa-exclamation-triangle"></i> Richiede attenzione
                    </div>
                </div>
            </div>

            <!-- AZIONI SISTEMA -->
            <div class="table-container">
                <div class="table-header">
                    <h3 class="table-title">Azioni Sistema</h3>
                </div>
                <div style="padding: 20px;">
                    <div class="d-flex gap-15" style="flex-wrap: wrap;">
                        <button class="btn-primary" onclick="backupDatabase()">
                            <i class="fas fa-save"></i> Backup Database
                        </button>
                        <button class="btn-warning" onclick="restartServices()">
                            <i class="fas fa-sync"></i> Riavvia Servizi
                        </button>
                        <button class="btn-secondary" onclick="generatePerformanceReport()">
                            <i class="fas fa-chart-bar"></i> Report Performance
                        </button>
                        <button class="btn-danger" onclick="enableMaintenanceMode()">
                            <i class="fas fa-exclamation-triangle"></i> Modalit√† Manutenzione
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- SEZIONE LOG -->
        <div id="logs-section" class="admin-section">
            <div class="section-header">
                <h2 class="section-title">
                    <i class="fas fa-list-alt"></i> Log di Sistema
                </h2>
                <p class="section-description">
                    Monitora tutti gli eventi e attivit√† del sistema in tempo reale
                </p>
            </div>

            <div class="section-instructions">
                <h4><i class="fas fa-info-circle"></i> Istruzioni Log</h4>
                <ul>
                    <li><strong>Colori:</strong> Rosso (errori), Giallo (warning), Blu (info), Verde (successo)</li>
                    <li><strong>Filtri:</strong> Filtra per tipo, data, utente per trovare eventi specifici</li>
                    <li><strong>Export:</strong> Esporta log per analisi esterne o reportistica</li>
                    <li><strong>Retention:</strong> I log vengono conservati per 90 giorni, poi archiviati</li>
                </ul>
            </div>

            <div class="filters-container">
                <div class="filters-row">
                    <div class="form-group">
                        <label>Tipo Log</label>
                        <select>
                            <option value="">Tutti i tipi</option>
                            <option value="error">Errori</option>
                            <option value="warning">Warning</option>
                            <option value="info">Info</option>
                            <option value="success">Successo</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Periodo</label>
                        <select>
                            <option value="1h">Ultima ora</option>
                            <option value="24h">Ultime 24 ore</option>
                            <option value="7d">Ultima settimana</option>
                            <option value="30d">Ultimo mese</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>&nbsp;</label>
                        <button class="btn-secondary" onclick="exportLogs()">
                            <i class="fas fa-download"></i> Esporta Log
                        </button>
                    </div>
                </div>
            </div>

            <div id="logs-container" class="log-container">
                <!-- Caricati dinamicamente -->
            </div>
        </div>

        <!-- SEZIONE PUBBLICIT√Ä -->
        <div id="ads-section" class="admin-section">
            <div class="section-header">
                <h2 class="section-title">
                    <i class="fas fa-ad"></i> Gestione Pubblicit√†
                </h2>
                <p class="section-description">
                    Sistema completo per gestire annunci pubblicitari, zone premium e analytics
                </p>
            </div>

            <!-- GESTIONE PUBBLICIT√Ä COMPLETA -->
            <div class="ads-management-complete">
                <div class="section-header">
                    <h2><i class="fas fa-bullhorn"></i> Gestione Pubblicit√† & Sponsorizzazioni RelaxPoint</h2>
                    <p>Sistema completo per gestire sponsorizzazioni premium, approvare contenuti e controllare la pubblicazione su tutto il sito.</p>
                </div>

                <!-- NOTIFICHE PENDING -->
                <div class="pending-notifications">
                    <div class="notification-header">
                        <h3><i class="fas fa-bell"></i> Richieste in Attesa</h3>
                        <span class="notification-count">3</span>
                    </div>

                    <div class="pending-ads-list">
                        <div class="pending-ad-item urgent">
                            <div class="ad-preview">
                                <img src="../assets/images/temp-ad1.jpg" alt="Preview" class="preview-img">
                            </div>
                            <div class="ad-info">
                                <h4>Yoga Weekend Intensive</h4>
                                <p><strong>Da:</strong> Sara Wellness Coach</p>
                                <p><strong>Zona richiesta:</strong> Ispirazioni Premium</p>
                                <p><strong>Durata:</strong> 7 giorni</p>
                                <span class="time-pending">In attesa da 2 ore</span>
                            </div>
                            <div class="ad-actions">
                                <button class="btn-success" onclick="approveAd(1)">
                                    <i class="fas fa-check"></i> Approva
                                </button>
                                <button class="btn-warning" onclick="reviewAd(1)">
                                    <i class="fas fa-eye"></i> Controlla
                                </button>
                                <button class="btn-danger" onclick="rejectAd(1)">
                                    <i class="fas fa-times"></i> Rifiuta
                                </button>
                            </div>
                        </div>

                        <div class="pending-ad-item">
                            <div class="ad-preview">
                                <img src="../assets/images/temp-ad2.jpg" alt="Preview" class="preview-img">
                            </div>
                            <div class="ad-info">
                                <h4>Massaggio Rilassante 30% OFF</h4>
                                <p><strong>Da:</strong> Marco Benessere</p>
                                <p><strong>Zona richiesta:</strong> Homepage Banner</p>
                                <p><strong>Durata:</strong> 14 giorni</p>
                                <span class="time-pending">In attesa da 5 ore</span>
                            </div>
                            <div class="ad-actions">
                                <button class="btn-success" onclick="approveAd(2)">
                                    <i class="fas fa-check"></i> Approva
                                </button>
                                <button class="btn-warning" onclick="reviewAd(2)">
                                    <i class="fas fa-eye"></i> Controlla
                                </button>
                                <button class="btn-danger" onclick="rejectAd(2)">
                                    <i class="fas fa-times"></i> Rifiuta
                                </button>
                            </div>
                        </div>

                        <div class="pending-ad-item">
                            <div class="ad-preview">
                                <img src="../assets/images/temp-ad3.jpg" alt="Preview" class="preview-img">
                            </div>
                            <div class="ad-info">
                                <h4>Corso Online Meditazione</h4>
                                <p><strong>Da:</strong> Elena Mindfulness</p>
                                <p><strong>Zona richiesta:</strong> Sidebar Servizi</p>
                                <p><strong>Durata:</strong> 30 giorni</p>
                                <span class="time-pending">In attesa da 1 giorno</span>
                            </div>
                            <div class="ad-actions">
                                <button class="btn-success" onclick="approveAd(3)">
                                    <i class="fas fa-check"></i> Approva
                                </button>
                                <button class="btn-warning" onclick="reviewAd(3)">
                                    <i class="fas fa-eye"></i> Controlla
                                </button>
                                <button class="btn-danger" onclick="rejectAd(3)">
                                    <i class="fas fa-times"></i> Rifiuta
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- STATISTICHE PUBBLICIT√Ä -->
                <div class="ads-stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon"><i class="fas fa-bullhorn"></i></div>
                        <div class="stat-info">
                            <h3>24</h3>
                            <p>Annunci Attivi</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon"><i class="fas fa-eye"></i></div>
                        <div class="stat-info">
                            <h3>12.5K</h3>
                            <p>Visualizzazioni</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon"><i class="fas fa-mouse-pointer"></i></div>
                        <div class="stat-info">
                            <h3>287</h3>
                            <p>Click Totali</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon"><i class="fas fa-euro-sign"></i></div>
                        <div class="stat-info">
                            <h3>‚Ç¨1,240</h3>
                            <p>Guadagni</p>
                        </div>
                    </div>
                </div>

                <!-- CONTROLLO GLOBALE -->
                <div class="global-control-section">
                    <div class="control-header">
                        <h3><i class="fas fa-power-off"></i> Controllo Globale Sito</h3>
                        <div class="master-controls">
                            <div class="master-switch">
                                <label class="switch">
                                    <input type="checkbox" id="master-ads-toggle" checked>
                                    <span class="slider"></span>
                                </label>
                                <span class="switch-label">Tutte le Pubblicit√†</span>
                            </div>
                            <button class="btn-emergency" onclick="emergencyStop()" title="Stop di emergenza per problemi urgenti">
                                <i class="fas fa-exclamation-triangle"></i> STOP Emergenza
                            </button>
                        </div>
                    </div>
                    <p class="control-description">
                        <i class="fas fa-info-circle"></i>
                        Disattiva immediatamente TUTTE le pubblicit√† del sito. Utile quando non hai contenuti da mostrare o per manutenzione.
                    </p>

                    <div class="site-status">
                        <div class="status-item">
                            <span class="status-label">Stato Sito:</span>
                            <span class="status-value active">üü¢ Pubblicit√† Attive</span>
                        </div>
                        <div class="status-item">
                            <span class="status-label">Ultimo Aggiornamento:</span>
                            <span class="status-value">Oggi alle 14:32</span>
                        </div>
                    </div>
                </div>

                <!-- GESTIONE ZONE AVANZATA -->
                <div class="zones-management">
                    <div class="zones-header">
                        <h3><i class="fas fa-map-marked-alt"></i> Gestione Zone Pubblicitarie</h3>
                        <div class="zones-actions">
                            <button class="btn-secondary" onclick="previewAllZones()">
                                <i class="fas fa-eye"></i> Preview Sito
                            </button>
                            <button class="btn-primary" onclick="addNewZone()">
                                <i class="fas fa-plus"></i> Nuova Zona
                            </button>
                        </div>
                    </div>

                    <div class="zones-grid">
                        <div class="zone-card premium">
                            <div class="zone-header">
                                <h4><i class="fas fa-images"></i> Ispirazioni Premium</h4>
                                <div class="zone-controls">
                                    <label class="switch">
                                        <input type="checkbox" checked>
                                        <span class="slider small"></span>
                                    </label>
                                    <button class="btn-zone-settings" onclick="configureZone('ispirazioni')">
                                        <i class="fas fa-cog"></i>
                                    </button>
                                </div>
                            </div>
                            <p>Badge "Premium" sulle card, annunci laterali, offerte speciali</p>
                            <div class="zone-stats">
                                <div class="stat-item">
                                    <span class="stat-number">8</span>
                                    <span class="stat-label">Attivi</span>
                                </div>
                                <div class="stat-item">
                                    <span class="stat-number">2.4%</span>
                                    <span class="stat-label">CTR</span>
                                </div>
                                <div class="stat-item">
                                    <span class="stat-number">‚Ç¨340</span>
                                    <span class="stat-label">Ricavi</span>
                                </div>
                            </div>
                            <div class="zone-actions">
                                <button class="btn-small primary" onclick="manageZoneContent('ispirazioni')">
                                    <i class="fas fa-edit"></i> Gestisci (8)
                                </button>
                                <button class="btn-small info" onclick="viewZoneAnalytics('ispirazioni')">
                                    <i class="fas fa-chart-line"></i> Analytics
                                </button>
                            </div>
                        </div>

                        <div class="zone-card">
                            <div class="zone-header">
                                <h4><i class="fas fa-home"></i> Homepage Hero</h4>
                                <div class="zone-controls">
                                    <label class="switch">
                                        <input type="checkbox" checked>
                                        <span class="slider small"></span>
                                    </label>
                                    <button class="btn-zone-settings" onclick="configureZone('homepage')">
                                        <i class="fas fa-cog"></i>
                                    </button>
                                </div>
                            </div>
                            <p>Banner principale, card promozionali, carousel hero</p>
                            <div class="zone-stats">
                                <div class="stat-item">
                                    <span class="stat-number">5</span>
                                    <span class="stat-label">Attivi</span>
                                </div>
                                <div class="stat-item">
                                    <span class="stat-number">3.1%</span>
                                    <span class="stat-label">CTR</span>
                                </div>
                                <div class="stat-item">
                                    <span class="stat-number">‚Ç¨520</span>
                                    <span class="stat-label">Ricavi</span>
                                </div>
                            </div>
                            <div class="zone-actions">
                                <button class="btn-small primary" onclick="manageZoneContent('homepage')">
                                    <i class="fas fa-edit"></i> Gestisci (5)
                                </button>
                                <button class="btn-small info" onclick="viewZoneAnalytics('homepage')">
                                    <i class="fas fa-chart-line"></i> Analytics
                                </button>
                            </div>
                        </div>

                        <div class="zone-card">
                            <div class="zone-header">
                                <h4><i class="fas fa-th-list"></i> Sidebar Servizi</h4>
                                <div class="zone-controls">
                                    <label class="switch">
                                        <input type="checkbox" checked>
                                        <span class="slider small"></span>
                                    </label>
                                    <button class="btn-zone-settings" onclick="configureZone('servizi')">
                                        <i class="fas fa-cog"></i>
                                    </button>
                                </div>
                            </div>
                            <p>Sidebar promozionali, banner laterali, call-to-action</p>
                            <div class="zone-stats">
                                <div class="stat-item">
                                    <span class="stat-number">11</span>
                                    <span class="stat-label">Attivi</span>
                                </div>
                                <div class="stat-item">
                                    <span class="stat-number">1.8%</span>
                                    <span class="stat-label">CTR</span>
                                </div>
                                <div class="stat-item">
                                    <span class="stat-number">‚Ç¨280</span>
                                    <span class="stat-label">Ricavi</span>
                                </div>
                            </div>
                            <div class="zone-actions">
                                <button class="btn-small primary" onclick="manageZoneContent('servizi')">
                                    <i class="fas fa-edit"></i> Gestisci (11)
                                </button>
                                <button class="btn-small info" onclick="viewZoneAnalytics('servizi')">
                                    <i class="fas fa-chart-line"></i> Analytics
                                </button>
                            </div>
                        </div>

                        <div class="zone-card disabled">
                            <div class="zone-header">
                                <h4><i class="fas fa-mobile-alt"></i> Mobile Footer</h4>
                                <div class="zone-controls">
                                    <label class="switch">
                                        <input type="checkbox">
                                        <span class="slider small"></span>
                                    </label>
                                    <button class="btn-zone-settings" onclick="configureZone('mobile-footer')">
                                        <i class="fas fa-cog"></i>
                                    </button>
                                </div>
                            </div>
                            <p>Banner mobile, popup promozioni, sticky footer</p>
                            <div class="zone-stats">
                                <div class="stat-item">
                                    <span class="stat-number">0</span>
                                    <span class="stat-label">Attivi</span>
                                </div>
                                <div class="stat-item">
                                    <span class="stat-number">-</span>
                                    <span class="stat-label">CTR</span>
                                </div>
                                <div class="stat-item">
                                    <span class="stat-number">‚Ç¨0</span>
                                    <span class="stat-label">Ricavi</span>
                                </div>
                            </div>
                            <div class="zone-actions">
                                <button class="btn-small primary" onclick="manageZoneContent('mobile-footer')">
                                    <i class="fas fa-edit"></i> Gestisci (0)
                                </button>
                                <button class="btn-small secondary" onclick="enableZone('mobile-footer')">
                                    <i class="fas fa-play"></i> Attiva Zona
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- AZIONI RAPIDE -->
                <div class="quick-actions">
                    <h3><i class="fas fa-bolt"></i> Azioni Rapide</h3>
                    <div class="actions-grid">
                        <button class="action-btn primary" onclick="addNewAd()">
                            <i class="fas fa-plus"></i>
                            Crea Nuovo Annuncio
                        </button>
                        <button class="action-btn secondary" onclick="viewAnalytics()">
                            <i class="fas fa-chart-line"></i>
                            Visualizza Analytics
                        </button>
                        <button class="action-btn warning" onclick="manageZones()">
                            <i class="fas fa-cog"></i>
                            Gestisci Zone
                        </button>
                        <button class="action-btn info" onclick="exportData()">
                            <i class="fas fa-download"></i>
                            Esporta Dati
                        </button>
                    </div>
                </div>

                <!-- ANNUNCI RECENTI -->
                <div class="recent-ads-table">
                    <h3><i class="fas fa-clock"></i> Annunci Recenti</h3>
                    <table class="simple-table">
                        <thead>
                            <tr>
                                <th>Annuncio</th>
                                <th>Zona</th>
                                <th>Stato</th>
                                <th>Visualizzazioni</th>
                                <th>CTR</th>
                                <th>Azioni</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>
                                    <strong>Yoga Premium Weekend</strong><br>
                                    <small>Banner promozionale</small>
                                </td>
                                <td>Ispirazioni</td>
                                <td><span class="status-badge active">Attivo</span></td>
                                <td>1,234</td>
                                <td>2.8%</td>
                                <td>
                                    <button class="btn-small primary" onclick="editAd(1)">Modifica</button>
                                    <button class="btn-small danger" onclick="deleteAd(1)">Elimina</button>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <strong>Massaggi Rilassanti 20% Off</strong><br>
                                    <small>Card nativa</small>
                                </td>
                                <td>Homepage</td>
                                <td><span class="status-badge active">Attivo</span></td>
                                <td>892</td>
                                <td>4.1%</td>
                                <td>
                                    <button class="btn-small primary" onclick="editAd(2)">Modifica</button>
                                    <button class="btn-small danger" onclick="deleteAd(2)">Elimina</button>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <strong>Corso Meditazione Online</strong><br>
                                    <small>Sidebar banner</small>
                                </td>
                                <td>Servizi</td>
                                <td><span class="status-badge paused">In pausa</span></td>
                                <td>567</td>
                                <td>1.2%</td>
                                <td>
                                    <button class="btn-small primary" onclick="editAd(3)">Modifica</button>
                                    <button class="btn-small danger" onclick="deleteAd(3)">Elimina</button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
        </div>

    <!-- MODAL NUOVO ANNUNCIO -->
    <div id="create-ad-modal" class="modal-overlay">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Crea Nuovo Annuncio</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <form>
                    <div class="form-group">
                        <label>Titolo Annuncio</label>
                        <input type="text" placeholder="Inserisci il titolo dell'annuncio">
                    </div>
                    <div class="form-group">
                        <label>Zona di Pubblicazione</label>
                        <select>
                            <option>Homepage</option>
                            <option>Ispirazioni</option>
                            <option>Servizi</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Tipo Annuncio</label>
                        <select>
                            <option>Banner Orizzontale</option>
                            <option>Card Premium</option>
                            <option>Badge</option>
                        </select>
                    </div>
                    <div class="form-actions">
                        <button type="button" class="btn-secondary" onclick="closeModal()">Annulla</button>
                        <button type="submit" class="btn-primary">Crea Annuncio</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- MODAL GENERICO -->
    <div id="generic-modal" class="modal-overlay">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modal-title">Titolo</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body" id="modal-body">
                <!-- Contenuto dinamico -->
            </div>
        </div>
    </div>

    <!-- JAVASCRIPT -->
    <script src="../assets/js/admin/dashboard-admin.js"></script>
</body>

</html>
